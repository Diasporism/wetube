<div id="chat">
  <div id='messages-container'>
    <% @conversation.messages.each do |message| %>
      <div class='message'><%= message.content %></div>
    <% end %>
    <!-- Why is the background color of message class different from messages-container -->
  </div>
  <div class='message-form'>
    <textarea id='message-text-area' rows="3"></textarea>
    <div id='message-submit-button'></div>
  </div>
</div>

<div id="playlist">
  <div id='playlists-container'>
    <h4><%= @theater.name %></h4>
    <!-- playlist items are appended here from handlebar template -->
  </div>
  <div id='playlist-input'>
    <textarea id='playlist-text-area' rows="3"></textarea>
    <div id='playlist-submit-button'></div>
  </div>
</div>
<!-- <div id="video">
<iframe id="ytplayer" type="text/html"
  src="http://www.youtube.com/embed/2bu-yysgr2M?autoplay=1&origin=http://example.com"
  frameborder="0"/>
</div> -->
<div id="controls">
</div>

<script id="playlist-item-template" type="text/x-handlebars-template">
   <div class='playlist-item'>
     <a href={{url}} >
   </div>
</script>

<script type="text/javascript">
  $(function() {
    var value = $('#playlist-text-area').val();
    PlaylistItem = {
      url: "#",
      post: function() {
          postItems({ url: this.url,
          destination: $("#playlists-container"),
          template: $("#playlist-item-template"), 
          value: $('#playlist-text-area').val()
        });
      }
    };

    $('#playlist-submit-button').on('click', function(){
      PlaylistItem.post();
    });
  });
</script>
